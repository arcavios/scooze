[tool.poetry]
name = "scooze"
version = "0.1.0"
description = "API tools for interacting with MongoDB for Magic: the Gathering tournaments, decklists, and cards."
authors = [
    "Alex Gimmi <iambroadband@gmail.com>",
    "Ben Horkley <ben.horkley@gmail.com>",
    "Jacob Ginsparg <jacobginsparg@gmail.com>",
]
readme = "README.md"
packages = [{ include = "scooze", from = "src" }]

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.black]
line-length = 120

[tool.isort]
profile = "black"
src_paths = ["scooze", "tests"]

[tool.poetry.dependencies]
python = ">=3.11, <3.12"
fastapi = "^0.100.0"
uvicorn = { extras = ["standard"], version = "^0.23.1" }
motor = "^3.2.0"
requests = "^2.31.0"
frozendict = "^2.3.8"

[tool.poetry.group.dev.dependencies]
pytest = "^7.4.0"
httpx = "^0.24.1"
black = "^23.7.0"
isort = "^5.12.0"

[[tool.poetry.source]]
name = "packagr"
url = "https://api.packagr.app/aGcEPILd"
priority = "explicit"

[tool.pytest.ini_options]
# addopts = "-m 'not slow'"
markers = [
    "slow: expected to be slow",
    "utils: related to utils helpers",
    "dictdiff: related to DictDiff in utils",
    "model_utils: related to model_utils helpers",
    "deck_diff: related to  Deck.diff()",
    "deck_add_cards: related to Deck.add_card() and Deck.add_cards()",
    "deck_remove_cards: related to Deck.remove_card() and Deck.remove_cards()",
    "deck_count: related to Deck.count()",
    "deck_export: related to exporting a Deck as text or some other format",
    "deck_validation: related to forcing ValidationErrors from Pydantic",
    "router_card: related to /card routes",
    "router_deck: related to /deck routes",
]
